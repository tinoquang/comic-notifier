(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{120:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(9),r=a.n(c),i=(a(96),a(63)),l=a(64),s=a(76),m=a(75),u=(a(97),a(77)),p=a(14),g=a(156),d=a(159),f=a(161),h=a(162),b=a(65),E=a.n(b).a.create({baseURL:"https://comicnotifier.herokuapp.com"}),v=Object(g.a)({appbar:{background:"white",color:"#000",fontFamily:"Nunito",position:"sticky"},appbarWrapper:{width:"60%",margin:"0 auto",padding:"0"},appbarTitle:{display:"flex",flex:"1"},appbarName:{padding:"auto",fontSize:"1.5rem",margin:"auto 0"},logoutButton:{fontFamily:"Nunito",fontSize:"0.75rem"},avatar:{borderRadius:"50%"}}),y=function(e){e.psid,e.name;var t=e.profile_pic,a=v();return o.a.createElement(d.a,{className:a.appbar},o.a.createElement(f.a,{className:a.appbarWrapper},o.a.createElement("div",{className:a.appbarTitle},o.a.createElement("img",{src:"/assets/chatbot.svg",alt:"logo",style:{height:"auto",width:"75px"}}),o.a.createElement("div",{className:a.appbarName},"Comic Notify")),o.a.createElement("div",null,o.a.createElement("img",{className:a.avatar,src:t,alt:"",style:{height:"auto",width:"35px"}}),o.a.createElement(h.a,{className:a.logoutButton,onClick:function(){E.get("/logout").then((function(e){window.location.reload()})).catch((function(e){return console.log(e)}))}},"Log Out"))))},w=a(177),N=a(180),O=a(179),x=a(165),j=a(71),k=a.n(j),C=Object(g.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{},margin:{margin:e.spacing(1)}}}));function S(e){var t=e.value,a=e.onChange,n=e.onClick,c=C();return o.a.createElement("form",{className:c.root,noValidate:!0,autoComplete:"off"},o.a.createElement(O.a,{className:c.input,id:"standard-basic",placeholder:"Search your comic",value:t,onChange:a}),o.a.createElement(x.a,{className:c.margin,onClick:n,type:"submit",size:"medium"},o.a.createElement(k.a,{fontSize:"inherit"})))}var I=a(183),D=a(167),W=a(168),z=a(170),L=a(171),F=a(169),T=a(72),B=a.n(T),M=Object(g.a)((function(e){return{popup:{display:"flex",justifyContent:"center"},center:{margin:"auto"}}})),R=function(e){var t=e.userID,a=e.comic,c=e.open,r=e.close,i=M(),l=Object(n.useState)(!1),s=Object(p.a)(l,2),m=s[0],u=s[1],g=Object(n.useState)(!1),d=Object(p.a)(g,2),f=d[0],b=d[1];return o.a.createElement(I.a,{open:c,onClose:r},o.a.createElement(D.a,{id:"dialog-title"},"Delete comic"),o.a.createElement(W.a,{className:i.popup},m?o.a.createElement(F.a,null):o.a.createElement("div",null,f?o.a.createElement(B.a,null):o.a.createElement("div",null,o.a.createElement(z.a,{id:"alert-dialog-description"},"Remove notification when"," ",o.a.createElement("span",{style:{fontWeight:"bold"}},a.name)," ","update new chapter"),o.a.createElement(L.a,null,o.a.createElement(h.a,{variant:"contained",color:"secondary",onClick:r},"Cancel"),o.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),u(!0),b(!1),E.delete("api/v1/users/".concat(t,"/comics/").concat(a.id)).then((function(e){u(!1),b(!0),window.location.reload()})).catch((function(e){return console.log(e)}))}},"OK"))))))},_=a(173),U=a(172),q=a(175),J=a(174),K=a(176),P=a(47),A=a(74),V=a.n(A),Y=a(182),$=a(166),G=Object(g.a)((function(e){return{root:{display:"flex",flexFlow:"column",maxWidth:"400px",height:"350px",margin:"auto"},media:{backgroundColor:"gray",margin:"auto",width:"400px",height:"200px"},comicInfo:{overflow:"hidden",textOverflow:"ellipsis"},noMaxWidth:{maxWidth:"none"}}}));function H(e){e._;var t=e.userID,a=e.comic,c=G(),r=Object(n.useState)(!1),i=Object(p.a)(r,2),l=i[0],s=i[1];return o.a.createElement(U.a,{className:c.root},o.a.createElement(_.a,{href:a.chapURL,target:"_blank",rel:"noopener noreferrer"},o.a.createElement(J.a,{className:c.media,component:"img",alt:a.name,image:a.imgURL})),o.a.createElement("div",{className:c.details},o.a.createElement(q.a,{className:c.content},o.a.createElement(P.a,{className:c.comicInfo,component:"div",variant:"title"},o.a.createElement(Y.a,{classes:{tooltip:c.noMaxWidth},title:o.a.createElement("span",{style:{fontSize:"1.25rem"}},a.name),placement:"top-start",enterDelay:500,TransitionComponent:$.a,TransitionProps:{timeout:300}},o.a.createElement(_.a,{href:a.url,target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",fontSize:"1.5rem",whiteSpace:"nowrap"}},a.name))),o.a.createElement(P.a,{className:c.comicInfo,component:"div",variant:"latest-chap",color:"textSecondary"},o.a.createElement(Y.a,{classes:{tooltip:c.noMaxWidth},title:o.a.createElement("span",{style:{fontSize:"1rem"}},a.latestChap),placement:"top-start",enterDelay:500,TransitionComponent:$.a,TransitionProps:{timeout:300}},o.a.createElement(_.a,{href:a.chapURL,target:"_blank",rel:"noopener noreferrer",style:{marinTop:"5px",color:"inherit",fontSize:"0.75rem",whiteSpace:"nowrap"}},a.latestChap)))),o.a.createElement(K.a,{disableSpacing:!0},o.a.createElement(P.a,{style:{color:"\t#808080",marginLeft:"10px"}},a.page),o.a.createElement(Y.a,{title:"Delete",arrow:!0},o.a.createElement(x.a,{className:c.delete,"aria-label":"Delete",onClick:function(e){e.preventDefault(),console.log("show modal"),s(!0)},style:{marginLeft:"auto"}},o.a.createElement(V.a,null))))),o.a.createElement(R,{userID:t,comic:a,open:l,close:function(e){e.preventDefault(),s(!1)}}))}var Q=Object(g.a)((function(e){return{container:{width:"60%",margin:"0 auto"},page:{},pagination:{margin:"20px",display:"flex",justifyContent:"center"}}})),X=function(e){var t=Q(),a=Object(n.useState)(!0),c=Object(p.a)(a,2),r=c[0],i=c[1],l=Object(n.useState)(""),s=Object(p.a)(l,2),m=s[0],u=s[1],g=Object(n.useState)([]),d=Object(p.a)(g,2),f=d[0],h=d[1],b=Object(n.useState)(1),v=Object(p.a)(b,2),y=v[0],O=v[1],x=function(e){E.get("api/v1/users/".concat(e,"/comics")).then((function(e){h(e.data.comics)})).catch((function(e){return console.log(e)}))};return Object(n.useEffect)((function(){x(e.userID)}),[e.userID]),o.a.createElement("div",{className:t.container},o.a.createElement(S,{value:m,onChange:function(e){u(e.target.value)},onClick:function(t){if(t.preventDefault(),i(!1),""===m)return O(1),void x(e.userID);E.get("api/v1/users/".concat(e.userID,"/comics"),{params:{q:m}}).then((function(e){u(""),h(e.data.comics)})).catch((function(e){return console.log(e)}))}}),0!==f.length?o.a.createElement("div",{className:t.page},o.a.createElement(w.a,{container:!0,spacing:2},f.slice(6*(y-1),6*y).map((function(t){return o.a.createElement(w.a,{item:!0,xs:4},o.a.createElement(H,{key:t.id,userID:e.userID,comic:t}))}))),o.a.createElement("div",{className:t.pagination},o.a.createElement(N.a,{count:Math.ceil(f.length/6),onChange:function(e,t){O(t)}}))):o.a.createElement("div",null,r?o.a.createElement("h2",null,"B\u1ea1n ch\u01b0a \u0111\u0103ng k\xfd nh\u1eadn th\xf4ng b\xe1o cho truy\u1ec7n, xem h\u01b0\u1edbng d\u1eabn t\u1ea1i \u0111\xe2y"):o.a.createElement("h5",null,"Kh\xf4ng t\xecm th\u1ea5y truy\u1ec7n")))},Z=(Object(g.a)({form:{display:"flex",height:"50px"}}),Object(g.a)((function(e){return{root:{height:"100%",backgroundColor:"#F5F5F5"}}}))),ee=function(){var e=Z(),t=Object(n.useState)({}),a=Object(p.a)(t,2),c=a[0],r=a[1];var i=function(){var e=function(e){for(var t=e+"=",a=document.cookie.split(";"),n=0;n<a.length;n++){for(var o=a[n];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null}("upid");E.get("/api/v1/users/".concat(e)).then((function(e){r(Object(u.a)({},e.data))})).catch((function(e){return console.log(e)}))};return Object(n.useEffect)((function(){i()}),[]),o.a.createElement("div",{className:e.root},o.a.createElement(y,c),c.psid?o.a.createElement(X,{userID:c.psid}):null)},te=Object(g.a)((function(e){return{root:{heigth:"100%",display:"flex",backgroundImage:'url("'.concat("/assets/bg-3.png",'")'),justifyContent:"center"},container:{height:"100vh",display:"flex",flexWrap:"no-wrap",width:"80%"},login:{display:"flex",alignItems:"center",flexDirection:"column",width:"60%"},banner:{backgroundColor:"rgba(255,255,255,0.8)",borderRadius:"2%",margin:"auto 0",fontFamily:"Itim",display:"flex",flexDirection:"column",alignItems:"center"},logo:{margin:"auto"},botName:{fontSize:"3rem"},loginButton:{fontSize:"2.5rem",margin:"40px",transition:"0.3s","&:hover":{backgroundColor:"black",color:"white"}},slider:{display:"flex",width:"60%",justifyContent:"center",alignItems:"center"}}}));function ae(){var e=te();return o.a.createElement("div",{className:e.root},o.a.createElement("div",{className:e.container},o.a.createElement("div",{className:e.login},o.a.createElement("div",{className:e.banner},o.a.createElement("img",{className:e.logo,src:"/assets/chatbot.svg",alt:"logo",style:{height:"auto",width:"100%"}}),o.a.createElement("div",{className:e.botName},"COMIC NOTIFY BOT"),o.a.createElement("button",{className:e.loginButton,onClick:function(){window.location.assign("https://www.facebook.com/v8.0/dialog/oauth?client_id=".concat("145792170193635","&redirect_uri=").concat("https://comicnotifier.herokuapp.com/auth","&state=").concat("quangmt2"))}},"Log in with Facebook"))),o.a.createElement("div",{className:(e.content,e.slider)},o.a.createElement("img",{className:e.align,src:"/assets/bot-logo.jpg",alt:"slider",style:{height:"auto",width:"60%"}}))))}var ne=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={user:{}},e}return Object(l.a)(a,[{key:"checkLoginStatus",value:function(){var e=this;E.get("/status").then((function(t){"true"!==localStorage.getItem("logged")&&(localStorage.setItem("logged","true"),e.setState({}))})).catch((function(t){localStorage.removeItem("logged"),e.setState({})}))}},{key:"componentDidMount",value:function(){this.checkLoginStatus()}},{key:"render",value:function(){return"true"===localStorage.getItem("logged")?o.a.createElement(ee,null):o.a.createElement(ae,null)}}]),a}(o.a.Component),oe=a(178);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(oe.a,null),o.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},91:function(e,t,a){e.exports=a(120)},96:function(e,t,a){},97:function(e,t,a){}},[[91,1,2]]]);
//# sourceMappingURL=main.7cc004c2.chunk.js.map